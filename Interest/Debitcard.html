<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Debit Card Payoff Calculator</title>

<style>
:root{
  --bg:#f5f7fb;
  --card:#fff;
  --primary:#2563eb;
  --text:#0f172a;
  --muted:#64748b;
  --border:#e5e7eb;
  --radius:16px;
  --shadow:0 14px 36px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
body{
  margin:0;font-family:Inter,system-ui,Arial;
  background:var(--bg);color:var(--text)
}
h1{text-align:center;color:var(--primary);margin:22px 0}
.container{max-width:1200px;margin:auto;padding:16px}
.grid{display:grid;grid-template-columns:380px 1fr;gap:28px}
.card{background:var(--card);border-radius:var(--radius);
  box-shadow:var(--shadow);padding:24px}
.section{margin-bottom:22px}
label{font-size:12px;color:var(--muted);display:block;margin-bottom:4px}
input,select{width:100%;padding:11px;border-radius:12px;
  border:1px solid var(--border);margin-bottom:10px}
button{padding:14px;border-radius:14px;border:none;font-weight:600;cursor:pointer}
.primary{background:var(--primary);color:#fff}
.secondary{background:#eef2ff}

.results{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:18px}
.result{background:#f8fafc;border-radius:14px;padding:14px;text-align:center}
.result b{font-size:18px;display:block}

.progress{
  height:12px;border-radius:999px;background:#e5e7eb;overflow:hidden;margin:16px 0
}
.progress span{
  display:block;height:100%;background:linear-gradient(90deg,#2563eb,#22c55e);
  width:0%
}

.warning{
  background:#fff7ed;color:#c2410c;
  padding:12px;border-radius:12px;margin-bottom:14px;display:none
}

table{width:100%;border-collapse:collapse;font-size:13px}
th,td{padding:8px;border-bottom:1px solid var(--border);text-align:right}
th:first-child,td:first-child{text-align:center}

@media print{
  .left,button,.progress,.warning{display:none}
  body{background:#fff}
}
</style>
</head>

<body>
<h1>üí≥ Debit Card Payoff Calculator</h1>

<div class="container">
<div class="grid">

<!-- LEFT -->
<div class="card left">
  <div class="section">
    <label>Overdraft / Negative Balance</label>
    <input id="balance" value="1500">
  </div>

  <div class="section">
    <label>Monthly Income</label>
    <input id="income" value="2500">
    <label>Monthly Expenses</label>
    <input id="expenses" value="2200">
    <label>Extra Payoff</label>
    <input id="extra" value="0">
    <label>Monthly Overdraft Fee</label>
    <input id="fee" value="0">
  </div>

  <div class="section">
    <label>Payoff Frequency</label>
    <select id="freq">
      <option value="monthly">Monthly</option>
      <option value="biweekly">Bi-Weekly</option>
      <option value="weekly">Weekly</option>
    </select>
  </div>

  <button class="primary" onclick="calc()">Calculate Payoff</button>
  <button class="secondary" onclick="location.reload()">Reset</button>
</div>

<!-- RIGHT -->
<div class="card">
  <div class="warning" id="warn">‚ö†Ô∏è Fees are higher than payments ‚Äî payoff impossible.</div>

  <div class="results">
    <div class="result"><b id="months">‚Äì</b>Months</div>
    <div class="result"><b id="paid">‚Äì</b>Total Paid</div>
    <div class="result"><b id="surplus">‚Äì</b>Surplus</div>
    <div class="result"><b id="date">‚Äì</b>Payoff Date</div>
  </div>

  <div class="progress"><span id="bar"></span></div>

  <table>
    <thead>
      <tr><th>Period</th><th>Payment</th><th>Fee</th><th>Balance</th></tr>
    </thead>
    <tbody id="rows"></tbody>
  </table>

  <button onclick="window.print()">üñ® Print / Export PDF</button>
</div>

</div>
</div>

<script>
function fmt(n){return "$"+n.toFixed(2)}

function calc(){
  const bal0=+balance.value;
  let bal=bal0;
  const income=+income.value;
  const expenses=+expenses.value;
  const extra=+extra.value;
  const fee=+fee.value;
  const freq=freqEl.value;

  let monthly=(income-expenses)+extra;
  if(freq==="weekly") monthly/=4.333;
  if(freq==="biweekly") monthly/=2;

  if(monthly<=fee){
    warn.style.display="block";return;
  } else warn.style.display="none";

  let rows="",p=0,total=0;
  while(bal>0 && p<600){
    p++;
    bal+=fee;
    const pay=Math.min(monthly,bal);
    bal-=pay;
    total+=pay;
    rows+=`<tr><td>${p}</td><td>${fmt(pay)}</td><td>${fmt(fee)}</td><td>${fmt(Math.max(0,bal))}</td></tr>`;
  }

  months.textContent=p;
  paid.textContent=fmt(total);
  surplus.textContent=fmt(monthly-fee);
  bar.style.width="100%";
  rowsEl.innerHTML=rows;

  const d=new Date();
  d.setMonth(d.getMonth()+p);
  date.textContent=d.toLocaleDateString();
}

const freqEl=freq,rowsEl=rows;
</script>
</body>
</html>
